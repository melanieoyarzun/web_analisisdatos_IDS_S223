<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.339">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Phd (c) Melanie Oyarzún - melanie.oyarzun@udd.cl">

<title>Web materiales Analisis de Datos - Sesión 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Web materiales Analisis de Datos</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./sesion0.html"> 
<span class="menu-text">Overview curso</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./talleres.html"> 
<span class="menu-text">talleres</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-sesiones" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Sesiones</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-sesiones">    
        <li>
    <a class="dropdown-item" href="./sesion1.html">
 <span class="dropdown-text">Sesión 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sesion2.html">
 <span class="dropdown-text">Sesión 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sesion3.html">
 <span class="dropdown-text">Sesión 3: Introducción al Análisis de regresión</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#slides" id="toc-slides" class="nav-link active" data-scroll-target="#slides">Slides</a></li>
  <li><a href="#la-preparación-de-los-datos" id="toc-la-preparación-de-los-datos" class="nav-link" data-scroll-target="#la-preparación-de-los-datos">La preparación de los datos</a>
  <ul class="collapse">
  <li><a href="#tipos-de-datos" id="toc-tipos-de-datos" class="nav-link" data-scroll-target="#tipos-de-datos">Tipos de datos</a>
  <ul class="collapse">
  <li><a href="#según-estructura-de-los-datos" id="toc-según-estructura-de-los-datos" class="nav-link" data-scroll-target="#según-estructura-de-los-datos">Según estructura de los datos</a></li>
  <li><a href="#datos-según-tamano" id="toc-datos-según-tamano" class="nav-link" data-scroll-target="#datos-según-tamano">Datos según tamaño</a></li>
  <li><a href="#datos-según-tipo-y-su-operacionalizacion" id="toc-datos-según-tipo-y-su-operacionalizacion" class="nav-link" data-scroll-target="#datos-según-tipo-y-su-operacionalizacion">Datos según tipo y su operacionalización</a></li>
  <li><a href="#datos-según-temporalidad-y-unidad-de-analisis." id="toc-datos-según-temporalidad-y-unidad-de-analisis." class="nav-link" data-scroll-target="#datos-según-temporalidad-y-unidad-de-analisis.">Datos según temporalidad y unidad de análisis.</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#cargando-los-datos" id="toc-cargando-los-datos" class="nav-link" data-scroll-target="#cargando-los-datos">Cargando los datos</a>
  <ul class="collapse">
  <li><a href="#leyendo-datos-en-pandas" id="toc-leyendo-datos-en-pandas" class="nav-link" data-scroll-target="#leyendo-datos-en-pandas">Leyendo datos en Pandas</a></li>
  <li><a href="#formato-csv-valores-separados-por-comas" id="toc-formato-csv-valores-separados-por-comas" class="nav-link" data-scroll-target="#formato-csv-valores-separados-por-comas">Formato CSV (valores separados por comas)</a></li>
  <li><a href="#csv-en-pandas" id="toc-csv-en-pandas" class="nav-link" data-scroll-target="#csv-en-pandas">CSV en pandas</a></li>
  <li><a href="#json-java-script-object-notation" id="toc-json-java-script-object-notation" class="nav-link" data-scroll-target="#json-java-script-object-notation">JSON (Java Script Object Notation)</a></li>
  <li><a href="#lectura-y-escritura-de-json-con-pandas" id="toc-lectura-y-escritura-de-json-con-pandas" class="nav-link" data-scroll-target="#lectura-y-escritura-de-json-con-pandas">Lectura y escritura de JSON con pandas</a></li>
  <li><a href="#orientaciones-posibles-de-json" id="toc-orientaciones-posibles-de-json" class="nav-link" data-scroll-target="#orientaciones-posibles-de-json">Orientaciones posibles de JSON</a></li>
  <li><a href="#extensible-markup-language-xml" id="toc-extensible-markup-language-xml" class="nav-link" data-scroll-target="#extensible-markup-language-xml">eXtensible Markup Language (XML)</a>
  <ul class="collapse">
  <li><a href="#ejemplo-xml" id="toc-ejemplo-xml" class="nav-link" data-scroll-target="#ejemplo-xml">Ejemplo XML</a></li>
  </ul></li>
  <li><a href="#formatos-binarios" id="toc-formatos-binarios" class="nav-link" data-scroll-target="#formatos-binarios">Formatos binarios</a></li>
  <li><a href="#bases-de-datos-relacionales" id="toc-bases-de-datos-relacionales" class="nav-link" data-scroll-target="#bases-de-datos-relacionales">Bases de datos relacionales</a></li>
  </ul></li>
  <li><a href="#dirty-data" id="toc-dirty-data" class="nav-link" data-scroll-target="#dirty-data">Dirty Data</a>
  <ul class="collapse">
  <li><a href="#dirty-data-punto-de-vista-estadístico" id="toc-dirty-data-punto-de-vista-estadístico" class="nav-link" data-scroll-target="#dirty-data-punto-de-vista-estadístico">Dirty data: punto de vista estadístico</a></li>
  <li><a href="#dirty-data-punto-de-vista-experto-en-base-de-datos" id="toc-dirty-data-punto-de-vista-experto-en-base-de-datos" class="nav-link" data-scroll-target="#dirty-data-punto-de-vista-experto-en-base-de-datos">Dirty data: punto de vista experto en base de datos</a></li>
  <li><a href="#dirty-data-punto-de-vista-del-experto-en-un-área" id="toc-dirty-data-punto-de-vista-del-experto-en-un-área" class="nav-link" data-scroll-target="#dirty-data-punto-de-vista-del-experto-en-un-área">Dirty Data: Punto de vista del experto en un área</a></li>
  <li><a href="#dirty-data-punto-de-vista-del-data-scientist" id="toc-dirty-data-punto-de-vista-del-data-scientist" class="nav-link" data-scroll-target="#dirty-data-punto-de-vista-del-data-scientist">Dirty Data: Punto de vista del Data Scientist</a></li>
  <li><a href="#dónde-se-origina-el-dirty-data" id="toc-dónde-se-origina-el-dirty-data" class="nav-link" data-scroll-target="#dónde-se-origina-el-dirty-data">¿Dónde se origina el dirty data?</a></li>
  <li><a href="#problemas-dirty-comunes" id="toc-problemas-dirty-comunes" class="nav-link" data-scroll-target="#problemas-dirty-comunes">Problemas Dirty comunes:</a></li>
  </ul></li>
  <li><a href="#preparando-los-datos" id="toc-preparando-los-datos" class="nav-link" data-scroll-target="#preparando-los-datos">Preparando los datos</a>
  <ul class="collapse">
  <li><a href="#data-wrangling" id="toc-data-wrangling" class="nav-link" data-scroll-target="#data-wrangling">Data Wrangling</a></li>
  <li><a href="#tidy-data" id="toc-tidy-data" class="nav-link" data-scroll-target="#tidy-data">Tidy Data</a>
  <ul class="collapse">
  <li><a href="#porqué-datos-tidy" id="toc-porqué-datos-tidy" class="nav-link" data-scroll-target="#porqué-datos-tidy">¿Porqué datos Tidy?</a></li>
  <li><a href="#siempre-tidy" id="toc-siempre-tidy" class="nav-link" data-scroll-target="#siempre-tidy">¿Siempre Tidy?</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#tareas-comunes-en-data-cleaning" id="toc-tareas-comunes-en-data-cleaning" class="nav-link" data-scroll-target="#tareas-comunes-en-data-cleaning">Tareas comunes en Data Cleaning</a>
  <ul class="collapse">
  <li><a href="#datos-perdidos" id="toc-datos-perdidos" class="nav-link" data-scroll-target="#datos-perdidos">Datos perdidos</a></li>
  <li><a href="#fitrando-y-limpiando" id="toc-fitrando-y-limpiando" class="nav-link" data-scroll-target="#fitrando-y-limpiando">Fitrando y limpiando</a></li>
  <li><a href="#errores-de-registro-y-textos" id="toc-errores-de-registro-y-textos" class="nav-link" data-scroll-target="#errores-de-registro-y-textos">Errores de registro y textos</a></li>
  <li><a href="#errores-de-formato" id="toc-errores-de-formato" class="nav-link" data-scroll-target="#errores-de-formato">Errores de formato</a></li>
  <li><a href="#transformando-strings" id="toc-transformando-strings" class="nav-link" data-scroll-target="#transformando-strings">Transformando strings</a></li>
  <li><a href="#métodos-para-strings" id="toc-métodos-para-strings" class="nav-link" data-scroll-target="#métodos-para-strings">Métodos para strings</a></li>
  <li><a href="#transformaciones-del-formato-de-los-datos" id="toc-transformaciones-del-formato-de-los-datos" class="nav-link" data-scroll-target="#transformaciones-del-formato-de-los-datos">Transformaciones del formato de los datos</a>
  <ul class="collapse">
  <li><a href="#eliminar-elegir-columnas" id="toc-eliminar-elegir-columnas" class="nav-link" data-scroll-target="#eliminar-elegir-columnas">Eliminar/ elegir columnas</a></li>
  <li><a href="#reshapesre-formato" id="toc-reshapesre-formato" class="nav-link" data-scroll-target="#reshapesre-formato">Reshapes/re formato</a></li>
  <li><a href="#crear-variables-dummies-dicotómicas" id="toc-crear-variables-dummies-dicotómicas" class="nav-link" data-scroll-target="#crear-variables-dummies-dicotómicas">Crear variables dummies / dicotómicas</a></li>
  </ul></li>
  <li><a href="#unir-datasets" id="toc-unir-datasets" class="nav-link" data-scroll-target="#unir-datasets">Unir datasets</a></li>
  <li><a href="#apilar-dataframes" id="toc-apilar-dataframes" class="nav-link" data-scroll-target="#apilar-dataframes">1. Apilar dataframes</a></li>
  <li><a href="#unir-dataframes" id="toc-unir-dataframes" class="nav-link" data-scroll-target="#unir-dataframes">2. Unir dataframes</a></li>
  <li><a href="#transformaciones-estadístocas" id="toc-transformaciones-estadístocas" class="nav-link" data-scroll-target="#transformaciones-estadístocas">Transformaciones estadístocas:</a></li>
  <li><a href="#estandarización-de-datos" id="toc-estandarización-de-datos" class="nav-link" data-scroll-target="#estandarización-de-datos">2. Estandarización de Datos</a></li>
  <li><a href="#normalización-de-datos" id="toc-normalización-de-datos" class="nav-link" data-scroll-target="#normalización-de-datos">Normalización de Datos</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Sesión 2: Preparando los datos</h1>
<p class="subtitle lead">Curso: Análisis de datos</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>

<section id="slides" class="level3">
<h3 class="anchored" data-anchor-id="slides">Slides</h3>
<p><a href="./sesion2_slides.html">Slides Sesión 1</a></p>
<iframe width="800px" height="533px" style="border:2px solid #dee2e6;" src="sesion2_slides.html"></iframe>
</section>
<section id="la-preparación-de-los-datos" class="level1">
<h1>La preparación de los datos</h1>
<ul>
<li><p>La preparación de datos es una fase esencial en el proceso de análisis de datos que involucra una serie de actividades destinadas a garantizar que los datos estén en condiciones óptimas para su posterior análisis.</p>
<ul>
<li>Extraccion de los datos</li>
<li>Limpieza</li>
<li>Transformación</li>
<li>Organización</li>
</ul></li>
</ul>
<p>Esta fase implica la extracción de los datos, su limpieza, transformación y organización de manera que sean coherentes, completos y adecuados para el análisis que se va a realizar.</p>
<p><strong>Trash in , trash out</strong></p>
<div class="columns">
<div class="column" style="width:60%;">
<p>La preparación de datos es crucial porque afecta directamente la calidad y confiabilidad de los resultados obtenidos en cualquier análisis posterior.</p>
</div><div class="column" style="width:40%;">
<p><img src="img/trash.png" class="img-fluid"></p>
</div>
</div>
<section id="tipos-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="tipos-de-datos">Tipos de datos</h2>
<p>Antes de adentrarnos en la preparación de los datos propiamente tal, es importante que revisemos los diferentes tipos de datos con los cuales nos podemos encontrar.</p>
<p>En especial, para que trabajemos desde un lenguaje común.</p>
<p><strong>Los tipos de datos y sus estructuras</strong></p>
<p>Podemos clasificar estos datos que recopilamos de muchas maneras, unas posibles agrupaciones son en relación a:</p>
<ul>
<li><p>Estructura</p></li>
<li><p>Tamaño</p></li>
<li><p>Operacionalización</p></li>
<li><p>Temporalidad y unidad de análisis.</p></li>
</ul>
<section id="según-estructura-de-los-datos" class="level3">
<h3 class="anchored" data-anchor-id="según-estructura-de-los-datos">Según estructura de los datos</h3>
<ul>
<li>La estructura de un dato se refiere a su formato y codificación.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/img_sesion2/structuredvsunestructures.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">fuente: https://www.igneous.io/blog/structured-data-vs-unstructured-data</figcaption>
</figure>
</div>
<section id="datos-estructurados" class="level4">
<h4 class="anchored" data-anchor-id="datos-estructurados">Datos estructurados</h4>
<ul>
<li>Tablas son formas organizadas y ordenadas de datos.</li>
<li>Conjuntos de tablas forman bases de datos estructuradas.</li>
<li>Las entradas en tablas pueden ser texto o números.</li>
<li>Los datos estructurados son recopilados y organizados intencionalmente.</li>
</ul>
</section>
<section id="datos-no-estructurados" class="level4">
<h4 class="anchored" data-anchor-id="datos-no-estructurados">Datos No estructurados</h4>
<ul>
<li>Los datos no estructurados son comunes en la sociedad moderna.</li>
<li>Pueden ser multimedia, imágenes, audio, datos de sensores, texto, etc.</li>
<li>No siguen un formato de base de datos definido.</li>
</ul>
<p>Algunos ejemplos de datos no estructurados son:</p>
<ul>
<li><p><strong>Medios enriquecidos:</strong> Datos de medios y entretenimiento, datos de vigilancia, datos geoespaciales, audio, datos meteorológicos</p></li>
<li><p><strong>Colecciones de documentos digitalizados:</strong> Facturas, registros, correos electrónicos, aplicaciones de productividad</p></li>
<li><p><strong>Internet de las cosas:</strong> Datos de sensores, datos de teletipos.</p></li>
</ul>
</section>
<section id="estructurados-vs-no-estructuraods" class="level4">
<h4 class="anchored" data-anchor-id="estructurados-vs-no-estructuraods">Estructurados vs no estructuraods</h4>
<ul>
<li>Datos estructurados están en sistemas transaccionales y bases de datos.</li>
<li>No hay preferencia entre estructurados y no estructurados.</li>
<li>Ambos tienen herramientas para acceder a la información, pero los no estructurados son más abundantes.</li>
</ul>
</section>
</section>
<section id="datos-según-tamano" class="level3">
<h3 class="anchored" data-anchor-id="datos-según-tamano">Datos según tamaño</h3>
<ul>
<li><p><strong>Big Data:</strong> Se refiere a conjuntos de datos extremadamente grandes y complejos que son difíciles de gestionar, procesar y analizar con herramientas y métodos tradicionales. Big Data involucra terabytes o incluso petabytes de información y generalmente requiere tecnologías y enfoques especializados para extraer conocimientos significativos.</p></li>
<li><p><strong>Small Data:</strong> Se refiere a conjuntos de datos más pequeños y manejables en comparación con Big Data. Estos conjuntos de datos son más accesibles y pueden ser procesados y analizados utilizando herramientas y métodos convencionales. A menudo, Small Data se centra en obtener información valiosa de fuentes limitadas y específicas.</p></li>
</ul>
</section>
<section id="datos-según-tipo-y-su-operacionalizacion" class="level3">
<h3 class="anchored" data-anchor-id="datos-según-tipo-y-su-operacionalizacion">Datos según tipo y su operacionalización</h3>
<ul>
<li>Las variables en análisis de datos pueden ser cuantitativas o cualitativas.
<ul>
<li>Las cuantitativas representan números medibles, como medidas o cantidades.</li>
<li>Las cualitativas representan cualidades y se subdividen en nominales (sin orden) y ordinales (con orden).
<ul>
<li>Para operacionalizar variables cualitativas, asignamos números o factores que representen categorías, facilitando su análisis cuantitativo.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="datos-según-temporalidad-y-unidad-de-analisis." class="level3">
<h3 class="anchored" data-anchor-id="datos-según-temporalidad-y-unidad-de-analisis.">Datos según temporalidad y unidad de análisis.</h3>
<p>Otra manera de clasificar los datos con relación a la temporalidad en la cual son tomados y cuál es la unidad de análisis.</p>
<ul>
<li>Corte transversal</li>
<li>serie de tiempo</li>
<li>panel - datos longitudinales</li>
</ul>
<section id="corte-transversal" class="level4">
<h4 class="anchored" data-anchor-id="corte-transversal">Corte transversal</h4>
<p><img src="img/corte_transversal.png" class="img-fluid"></p>
</section>
<section id="serie-temproal" class="level4">
<h4 class="anchored" data-anchor-id="serie-temproal">Serie temproal</h4>
<p><img src="img/serie_temporal.png" class="img-fluid"></p>
</section>
<section id="panel" class="level4">
<h4 class="anchored" data-anchor-id="panel">Panel</h4>
<p><img src="img/panel.png" class="img-fluid"></p>
</section>
</section>
</section>
</section>
<section id="cargando-los-datos" class="level1">
<h1>Cargando los datos</h1>
<section id="leyendo-datos-en-pandas" class="level2">
<h2 class="anchored" data-anchor-id="leyendo-datos-en-pandas">Leyendo datos en Pandas</h2>
<p>En <code>Pandas</code> podemos cargar una gran variedad de datos, a través de la familia de funciones <code>read_tipo</code></p>
<p><img src="img/pandas_read.png" class="img-fluid"></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Algunos tipos de argumentos para funciones read_*
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>Indexing:</strong> escoger una columna para indexar los datos, obtener nombres de columnas del archivo o usuario</li>
<li><strong>Type inference y data conversion:</strong> automático o definido por el usuario</li>
<li><strong>Datetime parsing:</strong> puede combinar información de múltiples columnas</li>
<li><strong>Iterating:</strong> trabajar con archivos muy grandes</li>
<li><strong>Unclean Data:</strong> saltarse filas (por ejemplo, comentarios) o trabajar con números con formato (por ejemplo, 1,000,345)</li>
<li><strong>Memory:</strong> <code>low_memory</code> indica que usemos pocos recursos (o no) del sistema.</li>
</ul>
</div>
</div>
</section>
<section id="formato-csv-valores-separados-por-comas" class="level2">
<h2 class="anchored" data-anchor-id="formato-csv-valores-separados-por-comas">Formato CSV (valores separados por comas)</h2>
<ul>
<li><p>La coma es un separador de campos, newline denota registros</p>
<ul>
<li><code>a,b,c,d,message</code></li>
<li><code>1,2,3,4,hello</code></li>
<li><code>5,6,7,8,world</code></li>
<li><code>9,10,11,12,foo</code></li>
</ul></li>
<li><p>Puede tener un encabezado (<code>a,b,c,d,message</code>), pero no es requisito</p></li>
<li><p>Sin tipo de información: no sabemos qué son las columnas (números, strings, punto flotante, etc.)</p>
<ul>
<li>Default: simplemente mantener todo como string</li>
<li>inferencia del tipo: descubrir qué tipo para transformar cada columna basado en lo que parece ser</li>
</ul></li>
<li><p>¿Y qué pasa con las comas en un valor?: doble comillas</p></li>
<li><p>Se puede utilizar otros delimitadores (|, , )</p></li>
</ul>
</section>
<section id="csv-en-pandas" class="level2">
<h2 class="anchored" data-anchor-id="csv-en-pandas">CSV en pandas</h2>
<ul>
<li>Lectura:
<ul>
<li>Básica: <code>df = pd.read_csv(fname)</code></li>
<li>Utilizar diferente delimitador: <code>df = pd.read_csv(fname, sep='\t\')</code></li>
<li>Saltarse las primeras columnas: <code>df = pd.read_csv(fname, skiprows=3)</code></li>
</ul></li>
<li>Escritura:
<ul>
<li>Básica <code>df.to_csv()</code></li>
<li>Cambiar el delimitador con sep kwarg: <code>df.to_csv('example.dsv', sep='\|')</code></li>
<li>Cambiar la representación de missing value <code>df.to_csv('example.dsv', na_rep='NULL')</code></li>
</ul></li>
</ul>
</section>
<section id="json-java-script-object-notation" class="level2">
<h2 class="anchored" data-anchor-id="json-java-script-object-notation">JSON (Java Script Object Notation)</h2>
<ul>
<li><p>Un formato para datos web</p></li>
<li><p>Aspecto muy similar a a diccionarios y listas python</p></li>
<li><p>Ejemplo: <code>{   "name": "Wes",    "places_lived": ["United States", "Spain", "Germany"],    "pet": null,    "siblings": [{"name": "Scott", "age": 25, "pet": "Zuko"},    {"name": "Katie", "age": 33, "pet": "Cisco"}]    }</code></p></li>
<li><p>No hay variables sino elementos independientes, pero permite nulos Valores: strings, arreglos, diccionarios, números, booleanos, o nulos</p>
<ul>
<li>Keys de diccionario deben ser strings</li>
<li>Signos de pregunta ayudan a diferenciar string o valores numéricos</li>
</ul></li>
</ul>
</section>
<section id="lectura-y-escritura-de-json-con-pandas" class="level2">
<h2 class="anchored" data-anchor-id="lectura-y-escritura-de-json-con-pandas">Lectura y escritura de JSON con pandas</h2>
<ul>
<li><code>pd.read_json(&lt;filename&gt;, orient=&lt;orientation&gt;)</code></li>
<li><code>df.to_json(&lt;filename&gt;, orient=&lt;orientation&gt;)</code></li>
</ul>
</section>
<section id="orientaciones-posibles-de-json" class="level2">
<h2 class="anchored" data-anchor-id="orientaciones-posibles-de-json">Orientaciones posibles de JSON</h2>
<ul>
<li><em>split</em>: tipo diccionario <code>{index -&gt; [index],  columns -&gt; [columns],data -&gt; [values]}</code></li>
<li><em>records</em>: tipo lista<br>
<code>[{column -&gt; value}, ... , {column -&gt; value}]</code></li>
<li><em>index</em>: tipo diccionario <code>{index -&gt; {column -&gt; value}}</code></li>
<li><em>columns:</em> tipo diccionario <code>{column -&gt; {index -&gt; value}}</code></li>
<li><em>values:</em> solo los valores del arreglo</li>
</ul>
</section>
<section id="extensible-markup-language-xml" class="level2">
<h2 class="anchored" data-anchor-id="extensible-markup-language-xml">eXtensible Markup Language (XML)</h2>
<ul>
<li>Formato más antiguo y auto descriptivo, con estructura jerárquica anidada.</li>
<li>Cada campo tiene tags</li>
<li>Tiene un elemento inicial llamado root</li>
<li>No tiene un método incorporado en Python.</li>
<li>Se puede usar la librería <code>lxml</code> (también ElementTree)</li>
</ul>
<section id="ejemplo-xml" class="level3">
<h3 class="anchored" data-anchor-id="ejemplo-xml">Ejemplo XML</h3>
<p><img src="img/xml.png" class="img-fluid"></p>
</section>
</section>
<section id="formatos-binarios" class="level2">
<h2 class="anchored" data-anchor-id="formatos-binarios">Formatos binarios</h2>
<ul>
<li><p>CSV, JSON y XML son todos formatos de texto</p></li>
<li><p>¿Qué es un formato binario?</p></li>
<li><p>Pickle: Python’s built-in serialization</p></li>
</ul>
<div id="891c2ac6" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pickle</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Objeto que queremos guardar</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'nombre'</span>: <span class="st">'Juan'</span>, <span class="st">'edad'</span>: <span class="dv">25</span>, <span class="st">'profesion'</span>: <span class="st">'ingeniero'</span>}</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Guardar el objeto en un archivo utilizando pickle</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">'datos.pickle'</span>, <span class="st">'wb'</span>) <span class="im">as</span> archivo:</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    pickle.dump(data, archivo)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar el objeto desde el archivo utilizando pickle</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">'datos.pickle'</span>, <span class="st">'rb'</span>) <span class="im">as</span> archivo:</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    datos_cargados <span class="op">=</span> pickle.load(archivo)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Objeto cargado:"</span>, datos_cargados)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Objeto cargado: {'nombre': 'Juan', 'edad': 25, 'profesion': 'ingeniero'}</code></pre>
</div>
</div>
<ul>
<li><p>HDF5: Librería para almacenar gran cantidad de datos científicos</p>
<ul>
<li><p>Formato jerárquico de datos</p></li>
<li><p>Interfaces in C, Java, MATLAB, etc.</p></li>
<li><p>Aguanta compresión</p></li>
<li><p>Usar pd.HDFStore para acceder</p></li>
<li><p>Comandos: read_hdf/to_hdf, se necesita especificar objeto</p></li>
<li><p>Excel: se necesita especificar la hoja cuando la hoja de cálculo tiene múltiples hojas</p></li>
<li><p>pd.ExcelFile or pd.read_excel</p></li>
</ul></li>
</ul>
</section>
<section id="bases-de-datos-relacionales" class="level2">
<h2 class="anchored" data-anchor-id="bases-de-datos-relacionales">Bases de datos relacionales</h2>
<p><img src="img/datos_relacionales.png" class="img-fluid"></p>
<ul>
<li><p>Las bases de datos relacionales son similares a los marcos de datos múltiples pero tienen muchas más características</p>
<ul>
<li><p>vínculos entre tablas via <em>foreign keys</em></p></li>
<li><p><em>SQL</em> para crear, almacenar y <em>query</em> datos&nbsp;</p></li>
</ul></li>
<li><p><em>sqlite3</em> es una base de datos simple con <em>built-in support in python</em></p></li>
<li><p>Python tiene una <em>database API</em> que te permite acceder a la mayoría de los sistemas de bases de datos a través de un <em>API</em> común</p></li>
<li><p>Sintaxis similar (¡pero no igual!) de otros sistemas de bases de datos (<em>MySQL, Microsoft SQL Server, Oracle</em>, etc.)&nbsp;</p></li>
<li><p><em>SQLAlchemy</em>: Paquete de python que se abstrae de las diferencias entre distintos sistemas de bases de datos</p></li>
<li><p><em>SQLAlchemy</em> apoya la lectura de <em>queries</em> a <em>data frame</em>:</p>
<p>`import sqlalchemy as sqla</p>
<p>db = sqla.create_engine(‘sqlite:///mydata.sqlite’)</p>
<p>pd.read_sql(‘select * from test’, db)`</p></li>
</ul>
</section>
</section>
<section id="dirty-data" class="level1">
<h1>Dirty Data</h1>
<p>… pero, ¿y si los datos no son o están correctos/confiables/en formato correcto?</p>
<section id="dirty-data-punto-de-vista-estadístico" class="level2">
<h2 class="anchored" data-anchor-id="dirty-data-punto-de-vista-estadístico">Dirty data: punto de vista estadístico</h2>
<ul>
<li>Los datos son generados desde algún proceso</li>
<li>Se quiere modelar el proceso, pero se tienen muestras no ideales:
<ul>
<li>Distorsión: algunas muestras se corrompieron por un proceso</li>
<li>Sesgo de selección: probabilidad de que una muestra dependa de su valor</li>
<li>Censura de izquierda y derecha: Left and right censorship: los usuarios van y vienen del escrutinio</li>
<li>Dependiencia: las muestras no son independientes (por ejemplo, redes sociales)</li>
</ul></li>
<li>Puedes agregar/aumentar modelos para diferentes problemas, pero no modelar todo</li>
<li>Trade-off entre precisión y simplicidad</li>
</ul>
</section>
<section id="dirty-data-punto-de-vista-experto-en-base-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="dirty-data-punto-de-vista-experto-en-base-de-datos">Dirty data: punto de vista experto en base de datos</h2>
<ul>
<li>Se obtuvo un set de datos</li>
<li>Algunos valores están missing, corrompidos, erróneos, duplicados</li>
<li>Los resultados son absolutos (modelo relacional)</li>
<li>Mejores respuestas provienen de mejorar la calidad de los valores en el set de datos</li>
</ul>
</section>
<section id="dirty-data-punto-de-vista-del-experto-en-un-área" class="level2">
<h2 class="anchored" data-anchor-id="dirty-data-punto-de-vista-del-experto-en-un-área">Dirty Data: Punto de vista del experto en un área</h2>
<ul>
<li>Algo se ve mal en los datos</li>
<li>Algo se ve mal en la respuesta</li>
<li>¿Qué ocurrió?</li>
<li>Los expertos en un área llevan un modelo implícito de los datos que están testeando</li>
<li>No siempre necesitas ser un experto en un área para hacer esto
<ul>
<li>¿Puede una persona correr 500 km por hora?</li>
<li>¿Puede una montaña en la Tierra estar a 50.000 metros sobre el nivel del mar?</li>
<li>Utilizar sentido común</li>
</ul></li>
</ul>
</section>
<section id="dirty-data-punto-de-vista-del-data-scientist" class="level2">
<h2 class="anchored" data-anchor-id="dirty-data-punto-de-vista-del-data-scientist">Dirty Data: Punto de vista del Data Scientist</h2>
<ul>
<li>Combinación de los tres puntos de vista anteriores</li>
<li>Todos los puntos de vista presentan problemas con los datos La meta puede determinar las soluciones:
<ul>
<li>Valor de la mediana: no preocuparse mucho de los outliers muy improbables</li>
<li>Generalmente, agregación es menos susceptible a los errores numéricos</li>
<li>Ser cuidadoso, puede que los datos estén bien…</li>
</ul></li>
</ul>
</section>
<section id="dónde-se-origina-el-dirty-data" class="level2">
<h2 class="anchored" data-anchor-id="dónde-se-origina-el-dirty-data">¿Dónde se origina el dirty data?</h2>
<ul>
<li>La fuente está mal, por ejemplo, una persona la ingresó de forma incorrecta</li>
<li>Las transformaciones corrompen los datos, por ejemplo, ciertos valores fueron procesados de forma incorrecta debido a un software bug</li>
<li>La integración de diferentes sets de datos causa problemas</li>
<li>Propagación del error: se magnifica un error</li>
</ul>
</section>
<section id="problemas-dirty-comunes" class="level2">
<h2 class="anchored" data-anchor-id="problemas-dirty-comunes">Problemas Dirty comunes:</h2>
<ul>
<li>Problemas de separadores: por ejemplo, CSV sin respetar comillas dobles</li>
<li>Convenciones de nombres o denominaciones: NYC vs.&nbsp;New York</li>
<li>Pérdida de campos requeridos, por ejemplo, key</li>
<li>Representaciones diferentes: 2 vs.&nbsp;dos</li>
<li>Datos truncados: “Janice Keihanaikukauakahihuliheekahaunaele” se vuelve “Janice - Keihanaikukauakahihuliheek” en la licencia de Hawaii</li>
<li>Registros redundantes: pueden ser exactamente el mismo o tener alguna superposición</li>
<li>Problemas de formato: 2017-11-07 vs.&nbsp;07/11/2017 vs.&nbsp;11/07/2017</li>
</ul>
</section>
</section>
<section id="preparando-los-datos" class="level1">
<h1>Preparando los datos</h1>
<p>Muchas veces los datos con los que queremos trabajar no están en el formato adecuado para los análisis que querenos realizar.</p>
<section id="data-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="data-wrangling">Data Wrangling</h2>
<ul>
<li>Data wrangling: transformar datos en bruto a un formato más significativo que pueda ser analizado mejor</li>
<li>Data cleaning: deshacerse de datos imprecisos</li>
<li>Data transformations: cambiar los datos de una representación a otra</li>
<li>Data reshaping: reorganizar los datos</li>
<li>Data merging: combinar dos sets de datos</li>
</ul>
</section>
<section id="tidy-data" class="level2">
<h2 class="anchored" data-anchor-id="tidy-data">Tidy Data</h2>
<p>En este sentido, generalmente para análisis de <em>corte transversal</em> nuestro ideal es trabajar con <em>Tidy Data</em></p>
<p><strong>“Tidy Data</strong> is a standar way of mapping the <strong>meaning</strong> of a dataset to its structure¨</p>
<p>Un tipo de estructura de datos útil para poder realizar modelos y análisis, son los llamados datos ordenados o Tidy Data Propuesto por <a href="https://vita.had.co.nz/papers/tidy-data.pdf">Hadley Wickham (2014)</a>, se ha vuelto un estándar deseable para analizar datos.</p>
<p>Se caracteriza por que los datos son representados en tablas rectangulares, de tal manera que:</p>
<ul>
<li><p>Cada variable (feature) forma una columna.</p></li>
<li><p>Cada observación (registro) forma una fila.</p></li>
<li><p>Cada dato (valor) está en una celda de la tabla.</p></li>
</ul>
<p><img src="img/tidy_data.png" class="img-fluid"></p>
<p>Con Tidy data podemos tener una estandarización en el tratamiento de los datos:</p>
<p><img src="img/tidydata_2.jpg" class="img-fluid"></p>
<p>Muchas veces un flujo de trabajo <strong>workflow</strong> empieza limpiando y ordenando los datos con el objetivo de que sean Tidy, para luego ser analizados y finalmente, comunicados sus resultados.</p>
<p><img src="img/flujo_tidy.png" class="img-fluid"></p>
<section id="porqué-datos-tidy" class="level3">
<h3 class="anchored" data-anchor-id="porqué-datos-tidy">¿Porqué datos Tidy?</h3>
<ul>
<li>Estandarizanción</li>
</ul>
<p>Los datos organizados te permiten ser más eficiente al utilizar herramientas existentes diseñadas específicamente para realizar las tareas que necesitas hacer, desde la selección de porciones de tus datos hasta la creación de mapas de tu área de estudio.</p>
<p>Utilizar herramientas existentes te ahorra tener que construir todo desde cero cada vez que trabajas con un nuevo conjunto de datos (lo cual puede ser consume tiempo y desmotivante).</p>
<p>Afortunadamente, existen muchas herramientas diseñadas específicamente para transformar datos desorganizados en datos organizados (por ejemplo, en el paquete tidyr). Al estar mejor preparado para transformar tus datos en un formato organizado, podrás llegar más rápido a tus análisis y comenzar a responder las preguntas que estás planteando.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/tidydata_3.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Fuente: https://allisonhorst.com/other-r-fun</figcaption>
</figure>
</div>
<ul>
<li>Facilitar la colaboración</li>
</ul>
<p>Dado que nuestros colegas pueden emplear las mismas herramientas de manera familiar. Tanto si consideramos a los colaboradores como compañeros actuales, su futuro propio o futuros colegas, la organización y compartición de datos de manera coherente y predecible implica menos ajustes, tiempo y esfuerzo para todos.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/tidydata_4.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Fuente: https://allisonhorst.com/other-r-fun</figcaption>
</figure>
</div>
<ul>
<li>Simplifica la reproducibilidad</li>
</ul>
<p>Los datos organizados también facilitan la reproducción de análisis, ya que son más fáciles de comprender, actualizar y reutilizar. Al utilizar herramientas que esperan datos organizados como entrada, puedes construir e iterar flujos de trabajo realmente potentes. Y cuando tienes entradas de datos adicionales, ¡no hay problema en volver a ejecutar tu código!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/tidydata_5.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Fuente: https://allisonhorst.com/other-r-fun</figcaption>
</figure>
</div>
</section>
<section id="siempre-tidy" class="level3">
<h3 class="anchored" data-anchor-id="siempre-tidy">¿Siempre Tidy?</h3>
<ul>
<li><p>NO!</p></li>
<li><p>Existen muchos otros tipos de estructuras de datos que no son tidy y que eso no hace que no sean útiles o “desordenadas”.</p></li>
<li><p>Es importante tener en cuenta que siempre existen múltiples formas de representar la misma información.</p></li>
</ul>
<p><strong>Existen dos principales motivos para utilizar otras estructuras de datos:</strong></p>
<ul>
<li>Representaciones alternativas que tengan mucho mayor desempeño computacional o ventajas en uso de memoria. Especialmente importante al tratar con grandes datos.</li>
<li>Algunos campos de estudio especializados tienen sus propias convenciones, que pueden ser diferentes a estas, por ejemplo las series temporales.</li>
</ul>
</section>
</section>
</section>
<section id="tareas-comunes-en-data-cleaning" class="level1">
<h1>Tareas comunes en Data Cleaning</h1>
<ul>
<li>Descartar e imputar missing data</li>
<li>Remover duplicados.</li>
<li>Modificar datos
<ul>
<li>mapear strings, expresiones aritméticas. Ejemplos:
<ul>
<li>Convertir strings de mayúsculas a minúsculas (upper/lower case)</li>
<li>Convertir T en Fahrenheit a Celsius</li>
<li>Crear una nueva columna basada en la columna anterior.</li>
</ul></li>
</ul></li>
<li>Reemplazar valores
<ul>
<li>(e.g.&nbsp;-999 → NaN). Usar método df[‘column’].replace()</li>
</ul></li>
<li>Restringir valores:
<ul>
<li>valores por encima o por debajo de los umbrales especificados se establecen en un valor máximo/mínimo.</li>
</ul></li>
</ul>
<div id="a16162fa" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Nombre'</span>: [<span class="st">'Juan'</span>, <span class="st">'Ana'</span>, <span class="st">'Luis'</span>, np.nan, <span class="st">'Carlos'</span>],</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Edad'</span>: [<span class="dv">25</span>, <span class="dv">30</span>, np.nan, <span class="dv">30</span>, <span class="dv">28</span>]}</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Eliminar filas con valores faltantes</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.dropna()</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Llenar valores faltantes con un valor específico</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Edad'</span>].fillna(<span class="dv">0</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Nombre  Edad
0    Juan  25.0
1     Ana  30.0
4  Carlos  28.0</code></pre>
</div>
</div>
<section id="datos-perdidos" class="level2">
<h2 class="anchored" data-anchor-id="datos-perdidos">Datos perdidos</h2>
<p>2 enfoques para lidiar con ellos:</p>
<ol type="1">
<li>Filtrar</li>
</ol>
<ul>
<li>se pueden escoger filas o columnas</li>
</ul>
<ol start="2" type="1">
<li>Llenar/ reemplazar :</li>
</ol>
<ul>
<li>con un valor por default</li>
<li>con un valor interpolados, otros</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/pandas_missing.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Missing en Pandas</figcaption>
</figure>
</div>
</section>
<section id="fitrando-y-limpiando" class="level2">
<h2 class="anchored" data-anchor-id="fitrando-y-limpiando">Fitrando y limpiando</h2>
<ul>
<li>Encontrar duplicados
<ul>
<li><code>duplicated</code> : retorna una Series booleana , indicando si la fila es un duplicado o no la primera instancia no es marcada como un duplicado.</li>
</ul></li>
<li>Remover duplicados:
<ul>
<li><code>drop_duplicates</code>: saca todas las filas donde duplicated es True</li>
<li><code>keep</code>: Cuál de los valores es el que quiero mantener (first or last)</li>
</ul></li>
<li>Puede recibir columnas específics para chequear por duplicados, e.g. chequear solo la columna key.</li>
</ul>
<div id="8e6e58c1" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Nombre'</span>: [<span class="st">'Juan'</span>, <span class="st">'Ana'</span>, <span class="st">'Luis'</span>, <span class="st">'Ana'</span>, <span class="st">'Carlos'</span>],</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Edad'</span>: [<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">30</span>, <span class="dv">28</span>]}</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.drop_duplicates()</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Nombre  Edad
0    Juan    25
1     Ana    30
2    Luis    35
4  Carlos    28</code></pre>
</div>
</div>
</section>
<section id="errores-de-registro-y-textos" class="level2">
<h2 class="anchored" data-anchor-id="errores-de-registro-y-textos">Errores de registro y textos</h2>
<p>Uno de los errores de registro más típico, tiene que ver con que los textos/strings estan ingresados con errores.</p>
<ul>
<li><p>Una de las razones de la popularidad de Python es por su capacidad de procesar texto/strings.</p></li>
<li><p><code>split(&lt;delimiter&gt;)</code> “quiebra” o separa un string en partes: <code>s = "12,13,14"</code> <code>slist = s.split(',') # ["12", "13", " 14"]</code></p></li>
<li><p><code>&lt;delimiter&gt;.join([&lt;str&gt;])</code>: Une varios strings por un delimitador <code>":".join(slist) # "12:13: 14”</code></p></li>
<li><p>strip(): remueve los espacios en blanco iniciales y finales <code>[p.strip() for p in slist] # ["12", "13", "14"]</code></p></li>
<li><p><code>replace(&lt;from&gt;,&lt;to&gt;)</code>: Cambia un substring por otro <code>s.replace(',', ':') # "12:13: 14”</code></p></li>
<li><p>upper()/lower(): casing <code>"AbCd".upper () # "ABCD”</code> <code>"AbCd".lower() # "abcd"</code></p></li>
</ul>
</section>
<section id="errores-de-formato" class="level2">
<h2 class="anchored" data-anchor-id="errores-de-formato">Errores de formato</h2>
<p>A veces, los datos se almacenan en el formato incorrecto y necesitas corregirlos.</p>
<div id="fceead90" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Fecha'</span>: [<span class="st">'2023-08-26'</span>, <span class="st">'2023-08-27'</span>, <span class="st">'2023-08-28'</span>],</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Ventas'</span>: [<span class="st">'$1000'</span>, <span class="st">'$1500'</span>, <span class="st">'$1200'</span>]}</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir la columna 'Ventas' a números eliminando el símbolo de dólar</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Ventas'</span>] <span class="op">=</span> df[<span class="st">'Ventas'</span>].<span class="bu">str</span>.replace(<span class="st">'$'</span>, <span class="st">''</span>).astype(<span class="bu">float</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Fecha  Ventas
0  2023-08-26  1000.0
1  2023-08-27  1500.0
2  2023-08-28  1200.0</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/ry/0yrdh5kn1m92t_pmx56nnqkc0000gn/T/ipykernel_9521/2310739606.py:9: FutureWarning:

The default value of regex will change from True to False in a future version. In addition, single character regular expressions will *not* be treated as literal strings when regex=True.
</code></pre>
</div>
</div>
</section>
<section id="transformando-strings" class="level2">
<h2 class="anchored" data-anchor-id="transformando-strings">Transformando strings</h2>
<ul>
<li>index()encuentra donde ocurre primero un substring(error si no lo encuentra):</li>
</ul>
<div id="89c6c7f5" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> <span class="st">"12,13, 14"</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>s.index(<span class="st">','</span>) <span class="co"># 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>2</code></pre>
</div>
</div>
<div id="af7ab34b" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#s.index(':') # ValueError raised</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>find(&lt;str&gt;)</code>: Lo mismo que index pero -1 si no es encontrado</li>
</ul>
<div id="33f1509b" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> <span class="st">"12,13, 14"</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>s.find(<span class="st">','</span>) <span class="co"># 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>2</code></pre>
</div>
</div>
<div id="50e9f622" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>s.find(<span class="st">':'</span>) <span class="co"># -1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>-1</code></pre>
</div>
</div>
<ul>
<li><code>startswith()</code> or <code>endswith()</code>: chequeo booleano para la ocurrencia de un string</li>
</ul>
<div id="3f51233c" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>    s.startswith(<span class="st">"1"</span>) <span class="co"># True</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    s.endswith(<span class="st">"5"</span>) <span class="co"># False`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>False</code></pre>
</div>
</div>
</section>
<section id="métodos-para-strings" class="level2">
<h2 class="anchored" data-anchor-id="métodos-para-strings">Métodos para strings</h2>
<p><img src="img/metodos_strings.png" class="img-fluid"></p>
<p><img src="img/regular_expressions.png" class="img-fluid"></p>
<p>Cualquier columna o serie puede tener métodos string (e.g.&nbsp;replace, split) aplicado a la serie completa</p>
<p>Está vectorizado para columnas completas o incluso el dataframe (lo cual lo hace rápido) Se debe usar .str.<method_name> (es importante el .str).</method_name></p>
<p>Ejemplo:</p>
<div id="5d2f80b6" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.Series({<span class="st">'Dave'</span>: <span class="st">'dave@google.com'</span>, <span class="st">'Steve'</span>: <span class="st">'steve@gmail.com'</span>, <span class="st">'Rob'</span>: <span class="st">'rob@gmail.com'</span>, <span class="st">'Wes'</span>: np.nan})</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>contains_gmail <span class="op">=</span> data.<span class="bu">str</span>.contains(<span class="st">'gmail'</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>split_at <span class="op">=</span> data.<span class="bu">str</span>.split(<span class="st">'@'</span>).<span class="bu">str</span>[<span class="dv">1</span>]</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>last_three_chars <span class="op">=</span> data.<span class="bu">str</span>[<span class="op">-</span><span class="dv">3</span>:]</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Contains 'gmail':"</span>)</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(contains_gmail)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Split at '@', second part:"</span>)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(split_at)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Last three characters:"</span>)</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(last_three_chars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Contains 'gmail':
Dave     False
Steve     True
Rob       True
Wes        NaN
dtype: object

Split at '@', second part:
Dave     google.com
Steve     gmail.com
Rob       gmail.com
Wes             NaN
dtype: object

Last three characters:
Dave     com
Steve    com
Rob      com
Wes      NaN
dtype: object</code></pre>
</div>
</div>
</section>
<section id="transformaciones-del-formato-de-los-datos" class="level2">
<h2 class="anchored" data-anchor-id="transformaciones-del-formato-de-los-datos">Transformaciones del formato de los datos</h2>
<ol type="1">
<li>Reshapes</li>
<li>Eliminar/elegir columnas</li>
<li>Re codificar: variables dummies</li>
<li>Unir datasets</li>
</ol>
<section id="eliminar-elegir-columnas" class="level3">
<h3 class="anchored" data-anchor-id="eliminar-elegir-columnas">Eliminar/ elegir columnas</h3>
<p>A veces, queremos deshacernos de columnas que no son relevantes para nuestro análisis.</p>
<div id="9f704ae0" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Nombre'</span>: [<span class="st">'Juan'</span>, <span class="st">'Ana'</span>, <span class="st">'Luis'</span>, <span class="st">'Carlos'</span>],</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Edad'</span>: [<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">28</span>],</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Peso (kg)'</span>: [<span class="dv">70</span>, <span class="dv">65</span>, <span class="dv">80</span>, <span class="dv">75</span>]}</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Eliminar la columna 'Peso (kg)'</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.drop(columns<span class="op">=</span>[<span class="st">'Peso (kg)'</span>])</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Nombre  Edad
0    Juan    25
1     Ana    30
2    Luis    35
3  Carlos    28</code></pre>
</div>
</div>
</section>
<section id="reshapesre-formato" class="level3">
<h3 class="anchored" data-anchor-id="reshapesre-formato">Reshapes/re formato</h3>
<ul>
<li>El “reshape” o remodelado de datos se refiere al proceso de reorganizar la estructura de un conjunto de datos, cambiando su disposición de filas y columnas para adaptarse a un formato específico.</li>
<li>Esto puede implicar la transformación de datos de un formato largo (tall) a uno ancho (wide) o viceversa, con el fin de facilitar el análisis, la visualización o la aplicación de modelos estadísticos.</li>
<li>El “reshape” es comúnmente realizado en la manipulación de datos utilizando bibliotecas como Pandas en Python o funciones de pivote en hojas de cálculo.</li>
</ul>
<p><img src="img/reshape.png" class="img-fluid"></p>
<div id="2f87de7b" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear DataFrame de ejemplo en formato largo</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Fecha'</span>: [<span class="st">'2023-08-01'</span>, <span class="st">'2023-08-01'</span>, <span class="st">'2023-08-02'</span>, <span class="st">'2023-08-02'</span>],</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Ciudad'</span>: [<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'A'</span>, <span class="st">'B'</span>],</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Temperatura'</span>: [<span class="dv">25</span>, <span class="dv">28</span>, <span class="dv">26</span>, <span class="dv">29</span>]}</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>df_largo <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Realizar el reshape de largo a ancho usando pivot()</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>df_ancho <span class="op">=</span> df_largo.pivot(index<span class="op">=</span><span class="st">'Fecha'</span>, columns<span class="op">=</span><span class="st">'Ciudad'</span>, values<span class="op">=</span><span class="st">'Temperatura'</span>)</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"DataFrame en formato largo:"</span>)</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_largo)</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">DataFrame en formato ancho:"</span>)</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_ancho)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>DataFrame en formato largo:
        Fecha Ciudad  Temperatura
0  2023-08-01      A           25
1  2023-08-01      B           28
2  2023-08-02      A           26
3  2023-08-02      B           29

DataFrame en formato ancho:
Ciudad       A   B
Fecha             
2023-08-01  25  28
2023-08-02  26  29</code></pre>
</div>
</div>
</section>
<section id="crear-variables-dummies-dicotómicas" class="level3">
<h3 class="anchored" data-anchor-id="crear-variables-dummies-dicotómicas">Crear variables dummies / dicotómicas</h3>
<ul>
<li>Muy útil para representar información cualitativa.</li>
<li>Muy usando en análisis de regresión y machine learning.</li>
<li>Queremos tomar valores posibles y mapearlos a uno o más indicadores que toman valor 0 ó 1.</li>
<li>Se pueden generar mediante <code>pd.get_dummies(df[‘key’])</code></li>
</ul>
<p><img src="img/onehot_dogs.png" class="img-fluid"></p>
<div id="0c417d25" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Lista de razas de perros</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>razas <span class="op">=</span> [<span class="st">'Labrador'</span>, <span class="st">'Poodle'</span>, <span class="st">'Bulldog'</span>, <span class="st">'Golden Retriever'</span>, <span class="st">'Chihuahua'</span>, <span class="st">'Husky'</span>]</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear un DataFrame con la lista de razas</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">'Raza'</span>: razas})</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Razas que queremos crear como variables dicotómicas</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>razas_interes <span class="op">=</span> [<span class="st">'Labrador'</span>, <span class="st">'Poodle'</span>, <span class="st">'Bulldog'</span>]</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear variables dicotómicas para las razas de interés</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> raza <span class="kw">in</span> razas_interes:</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    df[raza] <span class="op">=</span> df[<span class="st">'Raza'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="dv">1</span> <span class="cf">if</span> x <span class="op">==</span> raza <span class="cf">else</span> <span class="dv">0</span>)</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Eliminar la columna original de 'Raza'</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>df.drop(columns<span class="op">=</span>[<span class="st">'Raza'</span>], inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Labrador  Poodle  Bulldog
0         1       0        0
1         0       1        0
2         0       0        1
3         0       0        0
4         0       0        0
5         0       0        0</code></pre>
</div>
</div>
</section>
</section>
<section id="unir-datasets" class="level2">
<h2 class="anchored" data-anchor-id="unir-datasets">Unir datasets</h2>
<p>Muchas veces tenemos varios dataset que queremos unir. Existen dos métodos principales:</p>
<ol type="1">
<li><p>Apliar/concatenar/append Consiste en agregar un dataset a continuación de otro, para esto tienen que tener la misma forma.</p></li>
<li><p>Uniones Merge / Join Las uniones combinan DataFrames utilizando columnas en común como clave. Puedes realizar diferentes tipos de uniones, como “inner”, “outer”, “left” y “right”</p></li>
</ol>
<p><img src="img/joins.png" class="img-fluid"></p>
</section>
<section id="apilar-dataframes" class="level2">
<h2 class="anchored" data-anchor-id="apilar-dataframes">1. Apilar dataframes</h2>
<p>Creemos los dataframes:</p>
<div id="48d66236" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame([[<span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">4</span>, <span class="dv">5</span>]], columns<span class="op">=</span><span class="bu">list</span>(<span class="st">'PQ'</span>))</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.DataFrame([[<span class="dv">6</span>, <span class="dv">7</span>], [<span class="dv">8</span>, <span class="dv">9</span>]], columns<span class="op">=</span><span class="bu">list</span>(<span class="st">'PQ'</span>))</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   P  Q
0  2  3
1  4  5
   P  Q
0  6  7
1  8  9</code></pre>
</div>
</div>
<p>Hagamos el apilar. Atención a los index</p>
<div id="18a36439" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>df.append(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/ry/0yrdh5kn1m92t_pmx56nnqkc0000gn/T/ipykernel_9521/2094904254.py:1: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.
</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="15">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">P</th>
<th data-quarto-table-cell-role="th">Q</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>4</td>
<td>5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>6</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>8</td>
<td>9</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><img src="img/append1.png" class="img-fluid"></p>
<p>Usemos ignorar index</p>
<div id="b55de0a8" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>df.append(df2, ignore_index<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/ry/0yrdh5kn1m92t_pmx56nnqkc0000gn/T/ipykernel_9521/26416246.py:1: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.
</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">P</th>
<th data-quarto-table-cell-role="th">Q</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>4</td>
<td>5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>6</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>8</td>
<td>9</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><img src="img/append2.png" class="img-fluid"></p>
</section>
<section id="unir-dataframes" class="level2">
<h2 class="anchored" data-anchor-id="unir-dataframes">2. Unir dataframes</h2>
<p>Utilizando la función pd.merge().</p>
<div id="aa03825f" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear dos DataFrames con columnas en común</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>df3 <span class="op">=</span> pd.DataFrame({<span class="st">'Key'</span>: [<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>], <span class="st">'Value'</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]})</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>df4 <span class="op">=</span> pd.DataFrame({<span class="st">'Key'</span>: [<span class="st">'B'</span>, <span class="st">'C'</span>, <span class="st">'D'</span>], <span class="st">'Value'</span>: [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]})</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Unión interna basada en la columna 'Key'</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>inner_join <span class="op">=</span> pd.merge(df3, df4, on<span class="op">=</span><span class="st">'Key'</span>, how<span class="op">=</span><span class="st">'inner'</span>)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Unión externa basada en la columna 'Key'</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>outer_join <span class="op">=</span> pd.merge(df3, df4, on<span class="op">=</span><span class="st">'Key'</span>, how<span class="op">=</span><span class="st">'outer'</span>)</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Unión interna:"</span>)</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(inner_join)</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Unión externa:"</span>)</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(outer_join)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unión interna:
  Key  Value_x  Value_y
0   B        2        4
1   C        3        5

Unión externa:
  Key  Value_x  Value_y
0   A      1.0      NaN
1   B      2.0      4.0
2   C      3.0      5.0
3   D      NaN      6.0</code></pre>
</div>
</div>
</section>
<section id="transformaciones-estadístocas" class="level2">
<h2 class="anchored" data-anchor-id="transformaciones-estadístocas">Transformaciones estadístocas:</h2>
<ol type="1">
<li>Outliers</li>
</ol>
<p>Un valor atípico, también conocido como valor outlier en inglés, es un punto de datos que difiere significativamente del patrón general de los demás datos en un conjunto. Estos valores son inusuales en relación con el resto de la distribución de los datos y pueden ser considerablemente más altos o más bajos que los valores típicos del conjunto.</p>
<p>La identificación de valores atípicos es importante por varias razones: 1. Calidad de los datos 2. Impacto en estadísticas y modelos 3. Anomalías y problemas reales 4. Toma de decisiones informada</p>
<p>Veamos un ejemplo:</p>
<div id="e8ea0528" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear un conjunto de datos con valores atípicos</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">200</span>, <span class="dv">40</span>, <span class="dv">45</span>, <span class="dv">50</span>]</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear un DataFrame</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">'Valor'</span>: data})</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular el rango intercuartílico (IQR)</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>Q1 <span class="op">=</span> df[<span class="st">'Valor'</span>].quantile(<span class="fl">0.25</span>)</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>Q3 <span class="op">=</span> df[<span class="st">'Valor'</span>].quantile(<span class="fl">0.75</span>)</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>IQR <span class="op">=</span> Q3 <span class="op">-</span> Q1</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Definir los límites para identificar valores atípicos</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>lower_limit <span class="op">=</span> Q1 <span class="op">-</span> <span class="fl">1.5</span> <span class="op">*</span> IQR</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>upper_limit <span class="op">=</span> Q3 <span class="op">+</span> <span class="fl">1.5</span> <span class="op">*</span> IQR</span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Identificar valores atípicos</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>outliers <span class="op">=</span> df[(df[<span class="st">'Valor'</span>] <span class="op">&lt;</span> lower_limit) <span class="op">|</span> (df[<span class="st">'Valor'</span>] <span class="op">&gt;</span> upper_limit)]</span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Valores atípicos:"</span>)</span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(outliers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Valores atípicos:
   Valor
6    200</code></pre>
</div>
</div>
</section>
<section id="estandarización-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="estandarización-de-datos">2. Estandarización de Datos</h2>
<p>La estandarización es un proceso importante en el análisis de datos y el aprendizaje automático. Consiste en transformar los valores de una variable de manera que tengan una media de cero y una desviación estándar de uno. Esta transformación se logra mediante la fórmula:</p>
<p><span class="math display">\[ z = \frac{x - \mu}{\sigma} \]</span></p>
<p>Donde $ x $ es el valor original, $ $ es la media de los valores y $ $ es la desviación estándar.</p>
<p>La estandarización es especialmente útil cuando se tienen variables con diferentes escalas y distribuciones, ya que permite compararlas de manera equitativa y mejorar la eficacia de los algoritmos de aprendizaje automático al mitigar el impacto de las diferencias en las magnitudes de las características.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Pandas</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Numpy</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div id="f7deb6c0" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear un DataFrame con datos</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Valor'</span>: [<span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">45</span>, <span class="dv">50</span>]}</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular la media y la desviación estándar</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>mean <span class="op">=</span> df[<span class="st">'Valor'</span>].mean()</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>std_dev <span class="op">=</span> df[<span class="st">'Valor'</span>].std()</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Estandarización de los datos utilizando Pandas</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Valor_estandarizado'</span>] <span class="op">=</span> (df[<span class="st">'Valor'</span>] <span class="op">-</span> mean) <span class="op">/</span> std_dev</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Valor  Valor_estandarizado
0     10            -1.460593
1     15            -1.095445
2     20            -0.730297
3     25            -0.365148
4     30             0.000000
5     35             0.365148
6     40             0.730297
7     45             1.095445
8     50             1.460593</code></pre>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div id="4c59ba42" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Datos originales</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">45</span>, <span class="dv">50</span>]</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular la media y la desviación estándar</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>mean <span class="op">=</span> np.mean(data)</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>std_dev <span class="op">=</span> np.std(data)</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Estandarización de los datos</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>standardized_data <span class="op">=</span> [(x <span class="op">-</span> mean) <span class="op">/</span> std_dev <span class="cf">for</span> x <span class="kw">in</span> data]</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Datos originales:"</span>, data)</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Datos estandarizados:"</span>, standardized_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Datos originales: [10, 15, 20, 25, 30, 35, 40, 45, 50]
Datos estandarizados: [-1.5491933384829668, -1.161895003862225, -0.7745966692414834, -0.3872983346207417, 0.0, 0.3872983346207417, 0.7745966692414834, 1.161895003862225, 1.5491933384829668]</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="normalización-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="normalización-de-datos">Normalización de Datos</h2>
<p>La normalización es un proceso esencial en el análisis de datos y el aprendizaje automático. Consiste en ajustar los valores de una variable para que se encuentren dentro de un rango específico, generalmente entre 0 y 1. La fórmula matemática utilizada para la normalización es:</p>
<p><span class="math display">\[ x_{\text{norm}} = \frac{x - \min(x)}{\max(x) - \min(x)} \]</span></p>
<p>Donde $ x $ es el valor original y $x_{} $ es el valor normalizado.</p>
<p>La normalización es beneficiosa para igualar la escala de las variables y mejorar el rendimiento de los modelos que son sensibles a la magnitud de las características.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Pandas</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Numpy</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div id="65a61c5f" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear un DataFrame con datos</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Valor'</span>: [<span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">45</span>, <span class="dv">50</span>]}</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular los valores mínimo y máximo</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>min_value <span class="op">=</span> df[<span class="st">'Valor'</span>].<span class="bu">min</span>()</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>max_value <span class="op">=</span> df[<span class="st">'Valor'</span>].<span class="bu">max</span>()</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Aplicar la normalización min-max</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Valor_normalizado'</span>] <span class="op">=</span> (df[<span class="st">'Valor'</span>] <span class="op">-</span> min_value) <span class="op">/</span> (max_value <span class="op">-</span> min_value)</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Valor  Valor_normalizado
0     10              0.000
1     15              0.125
2     20              0.250
3     25              0.375
4     30              0.500
5     35              0.625
6     40              0.750
7     45              0.875
8     50              1.000</code></pre>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div id="d3c1f8b2" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Datos originales</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> np.array([<span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">45</span>, <span class="dv">50</span>])</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular los valores mínimo y máximo</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>min_value <span class="op">=</span> np.<span class="bu">min</span>(data)</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>max_value <span class="op">=</span> np.<span class="bu">max</span>(data)</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Aplicar la normalización min-max utilizando NumPy</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>normalized_data <span class="op">=</span> (data <span class="op">-</span> min_value) <span class="op">/</span> (max_value <span class="op">-</span> min_value)</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Datos originales:"</span>, data)</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Datos normalizados:"</span>, normalized_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Datos originales: [10 15 20 25 30 35 40 45 50]
Datos normalizados: [0.    0.125 0.25  0.375 0.5   0.625 0.75  0.875 1.   ]</code></pre>
</div>
</div>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        console.log("RESIZE");
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>